<div class="container mx-auto p-4">
  <div class="flex flex-col w-full justify-center items-center min-h-screen bg-gray-100">
    <h2 class="text-2xl font-bold mb-6 text-center text-gray-800">Change Password</h2>
    <form [formGroup]="passwordForm" (ngSubmit)="onSubmit()" class="space-y-4">
      <div class="form-group">
        <label for="currentPassword" class="block text-sm font-medium text-gray-700 mb-1">Current Password</label>
        <input
          type="password"
          id="currentPassword"
          formControlName="currentPassword"
          placeholder="Enter Current password"
          class="w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
        />
        @if (passwordForm.get('currentPassword')?.errors && passwordForm.get('currentPassword')?.touched) {
          <div class="mt-2 text-xs text-red-600">
            @if (passwordForm.get('currentPassword')?.errors?.['required']) {
              <span>Current password is required.</span>
            }
  
          </div>
        }
      </div>

      <div class="form-group">
        <label for="newPassword" class="block text-sm font-medium text-gray-700 mb-1">New Password</label>
        <input
          type="password"
          id="newPassword"
          formControlName="newPassword"
          placeholder="Enter New password"
          class="w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
        />
        @if (passwordForm.get('newPassword')?.errors && passwordForm.get('newPassword')?.touched) {
          <div class="mt-2 text-xs text-red-600">
            @if (passwordForm.get('newPassword')?.errors?.['required']) {
              <span>New password is required.</span>
            }
            @if (passwordForm.get('newPassword')?.errors?.['minlength']) {
              <span>New password must be at least 6 characters long.</span>
            }
          </div>
        }
      </div>

      <div class="form-group">
        <label for="confirmPassword" class="block text-sm font-medium text-gray-700 mb-1">Confirm Password</label>
        <input
          type="password"
          id="confirmPassword"
          formControlName="confirmPassword"
          placeholder="Confirm your password"
          class="w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
        />
        @if (passwordForm.get('confirmPassword')?.errors && passwordForm.get('confirmPassword')?.touched) {
          <div class="mt-2 text-xs text-red-600">
            @if (passwordForm.get('confirmPassword')?.errors?.['required']) {
              <span>Confirm password is required.</span>
            }
            @if (passwordForm.get('confirmPassword')?.errors?.['passwordMismatch']) {
              <span>Passwords do not match.</span>
            }
          </div>
        }
      </div>

      <button type="submit" [disabled]="passwordForm.invalid || isLoading()" class="w-full px-4 py-3 cursor-pointer bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500">
        {{ isLoading() ? 'Loading...' : 'Change Password' }}
      </button>
    </form>
  </div>
</div>